---
title: ファイルアップローダを使用
description: すべてのデータを単一のデータウェアハウスに配置する方法を説明します。
exl-id: 28db0e78-0222-431d-bbb9-6ef133686603
source-git-commit: 82882479d4d6bea712e8dd7c6b2e5b7715022cc3
workflow-type: tm+mt
source-wordcount: '1386'
ht-degree: 0%

---

# ファイルアップローダを使用

>[!NOTE]
>
>必要 [管理者権限](../../../administrator/user-management/user-management.md).

[!DNL MBI] は、ビジュアライゼーション機能だけでなく、すべてのデータを単一のデータウェアハウスに配置できるので、強力です。 データベースや統合の外部に存在するデータも、に取り込むことができます。 [!DNL MBI] Data Warehouse・マネージャのファイル・アップロード・ツールを使用して

例として広告キャンペーンを使用しましょう。 オンラインとオフラインの両方のキャンペーンを実行している場合、オンライン統合からのデータの分析のみを行っている場合は、全体像を把握することはできません。 オフラインキャンペーンデータを使用してスプレッドシートをアップロードすると、両方のデータセットを分析し、キャンペーンのパフォーマンスをより詳細に把握できます。

## 制限事項と要件 {#require}

1. **ファイルのアップロードでサポートされる形式は、次のとおりです。 `CSV` または`comma separated values`**. Excel で作業している場合は、「名前を付けて保存」機能を使用して、ファイルをに保存できます。 `.csv` 形式
1. **`CSV`ファイルは`UTF-8 encoding`**. ほとんどの場合、これは問題にはなりません。 ファイルのアップロード中にこのエラーが発生した場合は、 [このサポート記事を参照してください。](https://support.magento.com/hc/en-us/articles/360016730591).
1. **100 MB を超えるファイルは使用できません**. ファイルがこれより大きい場合は、テーブルをチャンクに分割し、個々のファイルとして保存します。 最初のファイルの読み込み後に、を使用してデータを追加できます。
1. **すべてのテーブルには`primary key`**. テーブル内に、 `primary key`、またはテーブル内の各行の一意の ID。 次に指定された列： `primary key` can *なし* が null の場合に限ります。 A `primary key` は、各行に数値を与える列を追加するのと同じくらい簡単にできます。また、2 つの列を連結して一意の値の列を作成することもできます ( 例： `campaign name` および `date`) をクリックします。

   列（または列）が一意であると指定されているが、重複がある場合、重複する行はインポートされません。

## アップロード用のデータの形式設定 {#formatting}

データをにアップロードする前に [!DNL MBI]の場合は、この節のガイドラインに従って形式が設定されていることを確認します。

### ヘッダー行 {#header}

列に正しくラベルが付けられ、読み込まれるようにするには、スプレッドシートの最初の行が、各列のデータを表すヘッダーであることを確認します。

列名は一意で、文字、数字、スペース、および次の記号のみを含める必要があります。 `$ % # /`. 列名にコンマが含まれている場合、ファイルのアップロード時に 2 つの列に分割されます。 さらに、更新速度を最適化するために、ファイル内の列数は 85 列未満にすることをお勧めします。

### コンマ付きデータ {#commas}

ファイルは `CSV` 形式の場合、コンマを使用すると、データのアップロードで問題が発生する可能性があります。 `CSV` ファイルでは、コンマを使用して新しい値を指定します。そのため、次のような名前の列を指定します。 `Campaigns`, `August` は 2 つの列 (`Campaigns` および `August`) ではなく、すべてのデータを 1 行に移動します。 可能な限りコンマを使用しないことをお勧めします。 以下を使用できます。 `Data Preview` 更新が完了した後に、データが正しく表示されているかどうかを確認します。

### 日付

日付を含むデータセットでは、 [標準の日付形式](https://dev.mysql.com/doc/refman/5.7/en/datetime.html) `YYYY-MM-DD HH:MM:SS` または `MM/DD/YYYY`.

### 特殊文字

一部の特殊文字は使用できません。 たとえば、パイプ記号 `& # 1 2 4` は新しい列の作成と解釈され、ファイルのアップロード時にエラーが発生します。

### 小数

通貨の値にはデータ型が必要です `Decimal Number` を選択すると、これらの列は自動的に data warehouse の小数点以下 2 桁に丸められます。 小数点以下の桁数を丸めない場合や、精度がこれより大きい場合は、 `Non-Currency Decimal Number` データ型。

### 割合 (%)

パーセンテージは小数で入力する必要があります。 例：

| **右：** | **間違い：** |
|-----|-----|
| `.05` | `5%` |
| `.23` | `23` |

{style=&quot;table-layout:auto&quot;}

### 先頭または末尾にゼロを持つ値 {#zeroes}

ファイル内の一部の値（郵便番号や ID など）は、ゼロで始まる、または終わる場合があります。 ゼロが適切に保持され、アップロードされるように、書式設定タイプ ( 例： [数からテキストへ](https://support.office.com/en-US/article/format-numbers-as-text-583160db-936b-4e52-bdff-6f1863518ba4)) または数値書式を適用します。

次を使用します。 `US ZIP codes` 数値の書式設定を変更する方法の例を示します。 In [!DNL Excel]、次を含む列をハイライト表示します。 `ZIP codes` および [数値の形式を変更する](https://support.office.com/en-za/article/Display-numbers-as-postal-codes-61b55c9f-6fe3-4e54-96ca-9e85c38a5a1d) から `ZIP code`. また、カスタムの数値書式を選択し、 `Type` ウィンドウ： `00000`. この方法では、一部のコードが `00000` その他のものは `00000-0000`.

この `Type` は [他のデータ型の対応に合わせて別の形式に設定](https://support.office.com/en-us/article/Keep-leading-zeros-in-number-codes-1bf7b935-36e1-4985-842f-5dfa51f85fe7?CorrelationId=e1d4c2d3-cd5d-4a14-999d-437800274a90&amp;ui=en-US&amp;rs=en-US&amp;ad=US)（ID など） 次の場合、 `ID` の長さは 9 桁です ( 例： `Type` は、 `000000000` または `000-000-000`. これは変更されます `123456` から `000-123-456`.

の場合 [!DNL Google Docs] および [!DNL Apple Numbers] リソース ( [関連](#related) リストを表示します。

## データのアップロード {#uploading}

これで、スプレッドシートが正しくフォーマットされ、 [!DNL MBI]-friendly、お客様のデータウェアハウスに追加します。

1. 利用を開始するには、に移動します。 **[!UICONTROL Data** > **File Uploads]**.

1. 次をクリック： **[!UICONTROL Upload to New Table]** タブをクリックします。

1. クリック **[!UICONTROL Choose File]** ファイルを選択します。 クリック **[!UICONTROL Open]** をクリックしてアップロードを開始します。

   アップロードが完了すると、列のリストが表示されます [!DNL MBI] がファイル内に見つかりました。

1. 列名とデータタイプが正しいことを確認します。 特に、日付列が数値ではなく日付として読み取られていることを確認します。

   >[!NOTE]
   >
   >この `datatype` は非常に重要なので、この手順をスキップしないでください。

1. を構成する列（複数可）を選択します。 `primary key` キーアイコンの下のチェックボックスを使用して、テーブルに追加します。

1. テーブルに名前を付けます。

1. クリック **[!UICONTROL Save Table]**.

A *成功！* テーブルを保存すると、画面の上部にメッセージが表示されます。

ビジュアルが必要な場合は、プロセス全体を次に示します。

![](../../../assets/fileupload.gif)

アップロードされたテーブルは、 **ファイルのアップロード** Data Warehouse・マネージャのテーブル・リストの（「すべてのテーブル」オプションと「同期済テーブル」オプションの両方で）次のセクションに移動します。

![](../../../assets/upload-tables.png)

## 既存のテーブルへのデータの更新または追加 {#appending}

既にアップロード済みのファイルに追加する新しいデータがありますか？ 問題なし — で簡単にデータを更新および追加できます [!DNL MBI].

1. 利用を開始するには、に移動します。 **[!UICONTROL Manage Data** > **File Uploads]**.

1. 次をクリック： **[!UICONTROL Edit/Upload `.csv`既存のテーブルに]** タブをクリックします。

1. ドロップダウンで、更新または追加するテーブルの名前をクリックします。

1. ドロップダウンを使用して、重複行を処理するオプションを選択します。

   |  |  |
   |---|---|
   | `Overwrite old row with new row` | 既存のテーブルと新しいファイルの両方で行に同じプライマリキーがある場合、既存のデータが新しいデータで上書きされます。 これは、時間の経過と共に変化する値を持つ列（「ステータス」列など）に使用するメソッドです。 既存のデータは上書きされ、新しいデータで更新されます。 既存のテーブルにプライマリキーを持たない行は、新しい行として追加されます。 |
   | `Retain old row; discard new row` | 既存のテーブルと新しいファイルの両方で行のプライマリキーが同じ場合、新しいデータは無視されます。 |
   | `Purge all existing rows first and ignore duplicate keys within the file` | これにより、既存のデータが削除され、ファイルの新しいデータに置き換えられます。 このオプションは、既存のテーブルにデータが必要ない場合にのみ使用してください。 |

1. クリック **[!UICONTROL Choose File]** ファイルを選択します。

1. クリック **[!UICONTROL Open]** をクリックしてアップロードを開始します。

   アップロードが完了したら、 [!DNL MBI] はファイル内のデータ構造を検証します。 A *成功！* テーブルを保存すると、画面の上部にメッセージが表示されます。

## データの可用性 {#availability}

計算列と同様に、次の更新サイクルが完了すると、ファイルのアップロードからのデータを使用できるようになります。 ファイルのアップロード中に更新が進行中だった場合、データは次の更新後まで使用できません。 更新サイクルが完了したら、 `Data Preview` 」タブを使用して、ファイルが正しくアップロードされ、データが期待どおりに表示されていることを確認します。

## 折り返し {#wrapup}

この記事では、データのインポートの基本についてのみ説明しましたが、もう少し先進的な方法をお望みです。 金融、e コマース、広告費用、その他のデータのフォーマットとインポートに関するガイダンスについては、関連記事を参照してください。

また、ファイルのアップロードがデータをに送信する唯一の方法ではありません [!DNL MBI]. この [データインポート API](https://developer.adobe.com/commerce/services/reporting/import-api/) 関数を使用すると、任意のデータを [!DNL MBI] data warehouse を使用します。

## 関連 {#related}

* [財務データのフォーマットとインポート](../../../best-practices/format-import-financial-data.md)
* [オフライン/その他の広告費用データのインポート](../connecting-data/import-offline-ad-data.md)
* [予測[!DNL Google ECommerce] データ](../integrations/google-ecommerce-data.md)

## サードパーティのリソース

* [数値データフォーマットガイド](http://www.dummies.com/how-to/content/how-to-choose-a-number-format-in-your-numbers-spre.html)
* [[!DNL Google Docs] データフォーマットガイド](https://support.google.com/docs/answer/56470?hl=en)
