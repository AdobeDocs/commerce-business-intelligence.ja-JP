---
title: 計算列のパスの作成または削除
description: 列を作成するテーブルと、情報を取り込むテーブルとの関連を示すパスを定義する方法を説明します。
exl-id: 734a8046-8058-4f03-93a2-8d59b9be6d2d
source-git-commit: 03a5161930cafcbe600b96465ee0fc0ecb25cae8
workflow-type: tm+mt
source-wordcount: '1043'
ht-degree: 0%

---

# 計算列のパスの作成または削除

## 計算列の更新

条件 [計算列の作成](../data-warehouse-mgr/creating-calculated-columns.md) Data Warehouseで、列を作成するテーブルと、情報を取り込むテーブルとの関係を示すパスを定義するよう求められます。 パスを正しく作成するには、次の 2 つを理解する必要があります。

1. データベース内のテーブルの相互関係
1. この関係を定義するプライマリキーと外部キー

この情報を知っている場合は、この記事の手順に従って、簡単にパスを作成できます。 少し不明な点がある場合は、これらの概念の概要を説明しましたが、組織のテクニカルエキスパートに問い合わせたり、サポートチームに連絡したい場合があります。

## テーブルの関係とキーの種類に関するリファラー {#refresher}

### テーブルの関係 {#relationships}

この概念を、 [テーブルの関係についてと評価の記事](../../data-analyst/data-warehouse-mgr/table-relationships.md)でも簡単なまとめは誰も傷つけないでしょ？

テーブルは、次の 3 つの方法のいずれかで相互に関連付けることができます。

| **`Relationship Type`** | **`Example`** |
|-----|-----|
| **`one-to-one`** | 人と運転免許証番号の関係。 個人は、1 人の運転免許証を持つことができ、1 人の運転免許証を持つことができ、1 人の運転免許証を持つことができ、1 人の運転免許証を持つことができる。 |
| **`one-to-many`** | 注文と品目の関係 — 注文に多数の品目を含めることができますが、品目は 1 つの注文に属します。 この場合、注文テーブルは一方の側で、項目テーブルは多方の側です。 |
| **`many-to-many`** | 製品とカテゴリの関係：1 つの製品は多くのカテゴリに属することができ、複数の製品を含めることができます。 |

{style=&quot;table-layout:auto&quot;}

2 つのテーブル間の関係を把握したら、テーブル間で情報を取り込むために作成するパスを決定するために使用できます。 この次の手順では、テーブルの関係を容易にするプライマリキーと外部キーを知る必要があります。

### プライマリと外部キー {#keys}

A `Primary Key` は、テーブル内で一意の値を生成する、変更されない列または列のセットです。 例えば、顧客が Web サイトで注文をすると、新しい行が `orders` 新しい `order_id`. この `order_id` では、顧客とビジネスの両方が特定の注文の進行状況を追跡できます。 注文 ID は一意なので、通常は `Primary Key` の `orders` 表。

A `Foreign Key` は、 `Primary Key` 別のテーブルの列。 外部キーはテーブル間で参照を作成するので、アナリストは簡単にレコードを検索してリンクできます。 各顧客に属する注文を知りたかったとします。 この `customer id` 列 (`Primary Key` の `customers` 表 ) と `order_id` 列 (`Foreign Key` 内 `customers` テーブル、参照 `Primary Key` の `orders` 表 ) では、この情報をリンクおよび分析できます。 パスを作成する際に、 `Primary Key` および `Foreign Key`.

## パスの作成 {#createpath}

Data Warehouse で列を作成する場合は、あるテーブルから別のテーブルに情報を取り込むためのパスを定義する必要があります。 テーブル間に既にパスが存在するので、パスが事前に設定される場合がありますが、パスが存在しない場合は、作成する必要があります。

我々は～間の関係を利用する **顧客** および **注文件数** どのように行われたかを示す 分類：

* 関係は `one-to-many` ：顧客は多数の注文を持つことができますが、1 つの注文には 1 つの顧客のみを持つことができます。 これにより、関係の方向、または計算列を作成する場所が示されます。 この場合、 `orders` テーブルを `customers` 表。
* この `primary key` 次を使用します。 `customers.customerid`、または `customer ID` 列 `customers` 表。
* この `foreign key` 次を使用します。 `orders.customerid`、または `customer ID` 列 `orders` 表。

実際に道を作り上げてみましょう

1. クリック **[!UICONTROL Data > Data Warehouse]**.
1. 表の一覧で、列を作成する表をクリックします。 この例では、次のようになります。 `customers` 表。
1. テーブルスキーマが表示されます。 クリック **[!UICONTROL Create New Column]**.
1. 列に名前を付けます（例： ）。 `Customer's orders`.
1. 列の定義を選択します。 以下を確認します。 [計算列ガイド](../data-warehouse-mgr/creating-calculated-columns.md) 便利なチートシートの
1. 内 [!UICONTROL Select table and column] ドロップダウンで、 **[!UICONTROL Create new path]** オプション。

   ![計算列モーダルのパスの作成](../../assets/Creating_Paths_modal.png)

1. ドロップダウンを使用して、各テーブルのプライマリキーと外部キーを選択します。

   の `Many` 「側」で、「 `orders.customerid`  — 顧客は多くの注文を受けることができます。

   の `One` 「側」で、「 `customers.customerid`  — 注文には 1 人の顧客のみを含めることができます。

1. クリック **[!UICONTROL Save]** パスを保存し、列の作成を終了します。

### パス作成の制限 {#limits}

* **[!DNL MBI]プライマリキーと外部キーの関係を推測できません**. アカウントに誤ったデータを導入したくないので、パスの作成は手動でおこなう必要があります。
* **現在、パスは 2 つの異なるテーブル間でのみ指定できます**. 再作成しようとしているロジックに 2 つ以上のテーブルが含まれていますか？ (1) 最初に中間テーブルに列を結合し、次に「最終宛先」テーブルに結合する、または (2) 目標に対する最適なアプローチを見つけるために、アドビのチームに相談する、というのも理にかなう場合があります。
* **列は、一度に 1 つのパスの外部キー参照のみにすることができます**. 例えば、 `order_items.order_id` ポイント `orders.id`を、 `order_items.order_id` 他のものを指すことはできません。
* **`Many-to-many`パスは技術的には作成できますが、どちらも真でないので、非常に多くの場合、不正なデータを生成します `one-to-many` 外部キー**. これらのパスに最も近い方法は、常に、特定の分析に依存します。 RJ アナリストチームに相談して、最適なソリューションを明らかにしてください。

上記の 1 つ以上の制限により計算列を作成できない場合は、サポートに連絡して、現在の列の説明を確認してください

## 計算列のパスを削除 {#delete}

Data Warehouse内に間違ったパスを作成しましたか？ 春の掃除をして片付けたいのか？ アカウントからパスを削除する必要がある場合は、 [サポートアナリストにチケットを送る](../../guide-overview.md). **必ずパスの名前を含めてください。**

## 折り返し {#wrapup}

これで、Data Warehouse内の計算列のパスを作成する際の作業に慣れたはずです。 それでも特定のパスが不明な場合は、いつでも「 **[!UICONTROL Support]** の [!DNL MBI] アカウントを使用してサポートを受けてください。

## 関連

* [テーブルの関係の理解と評価](../data-warehouse-mgr/table-relationships.md)
* [計算列のパスの作成](../data-warehouse-mgr/create-paths-calc-columns.md)
* [計算列のタイプ](../data-warehouse-mgr/calc-column-types.md) を作成しようとしています。
